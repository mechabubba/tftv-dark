/* ==UserStyle==
@name        teamfortress.tv Dark Mode
@author      steve (mechabubba)
@namespace   mechabubba.tftv-dark
@description Dark mode for teamfortress.tv.
@homepageURL https://github.com/mechabubba/tftv-dark
@version     0.1
@license     Unlicense
==/UserStyle== */
/*
# **HEY READ THIS SHIT**
This is all based on [panda106's dark mode style](https://www.teamfortress.tv/35639/tftv-dark-theme). You can find the original repository [here](https://github.com/tino-m/TFTVDark).

Their version was tf.tv's entire `main.css` file, modified with the changes they desired. This worked, but the file included completely unnecessary and redundant styling; stuff like the entirety of font awesome, tf.tv's flag data, and the rest of tf.tv's unmodified styling. This is my attempt at cutting down the waste and making a more configurable and modular approach, plus adding a few of my own changes.

I'm not a designer, nor am I super experienced with web stuff, so I encourage you to modify this on your own terms; this is just what looked agood to me. I heavily encourage people to contribute if they want to change something. See the github repo!
*/
:root {
    --html-bg: #111;

    --text-color: #EEE;
    --text-color-secondary: #BCBCBC;
    --text-color-tertiary: #888;
    --header-text-color: #016082;
    --link-color: #669CFF;
    
    --forum-sub-color: rgba(255, 255, 255, 0.1);
    --forum-active-sub-color: #6EA3Cf;
    --upfrag-color: #6C936F;
    --downfrag-color: #B38080;

    /* this is the top banner area. */
    --header-bg: #232529;
    --header-nav-bg: #34363D;

    /* these affect the sidebar module headers. */
    --module-header-bg: #34363D;
    --module-header-text-color: var(--text-color);

    /* these affect the sidebar module contents */
    --module-bg: #232529;
    --module-text-color: var(--text-color);

    /* this affects the main content rectangle */
    --content-bg: #232529;

    /* post garbage */
    --post-header-bg: var(--module-header-bg);
    --group-plus-text-color: #007099;
    --quote-bg: rgba(0, 0, 0, 0.15);
    --code-bg: rgba(255, 255, 255, 0.05);
}

/* ========== HTML STUFF ========== */
html {
    background: var(--html-bg);
}
body {
    background: transparent;
    color: var(--text-color);
}

a,
a:link,
a:visited {
    color: var(--link-color);
    text-decoration: none;
    transition: 0.2s;
}

a:active,
a:hover {
    filter: brightness(1.4); /* the filter can look a lil weird sometimes. original value: rgb(153, 189, 255); */
    text-decoration: underline;
}

/* ========== TF.TV STUFF ========== */
.header {
    background: var(--header-bg);
}

.header-nav-container {
    background: var(--header-nav-bg);
}

/* modified border png to support changing colors. */
/* @todo this looks a little strange when used with ::after. its not super noticible. */
.header-nav-item-wrapper::before,
.header-nav-item-wrapper.mod-last::after {
    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAApCAYAAADwH5PvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAABISURBVChTY/j//7+IjY1NKIhmYkACGJz/f//+/Q+i8SuDA7Cef//+kayHHHuAekDsweo2uviHCHtevXrFCGUzMIH8jyUMGBgA4rlGyAWBfl0AAAAASUVORK5CYII=");
}

.module {
    background: var(--module-bg);
    border-radius: 0;
    border: 1px solid #34363D;
}

.module-header {
    background: var(--module-header-bg);
    color: var(--text-color) !important;
    text-shadow: 0 0 0 rgba(255, 255, 255, 0);
    border-radius: 0;
    border-bottom: 1px solid #aaa;
}

.module-header:hover {
    background: #414245;
    border-bottom: 1px solid #bbb;
}

.module-item {
    border-bottom: 1px solid #34363D;
}

.module-item:hover {
    background: #414245;
}

.module-item.mod-featured {
    background: var(--module-bg);
}

.module-item-title {
    color: var(--text-color-secondary);
}

.module-item-title-sub {
    color: var(--text-color-secondary);
    font-weight: bold;
}

/* this rule is for the live stream content header. */
.module-filter-menu {
    color: var(--text-color-secondary);
    background: #232529;
}

/* ========== FORUM BROWSING ========== */
#content {
    background-color: var(--content-bg);
    border: none;
    border-radius: 0;
}

/* === button stuff === */
.btn,
a.btn {
    background: #232529;
    border: 1px solid #34363D;
    border-radius: 0;
}

.btn:not(.mod-active):hover {
    background: #414245;
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
}

.btn:not(.mod-active):active {
    box-shadow: inset 0 0 1px rgba(0, 0, 0, 0.2);
    background: #414245;
}

.btn.is-clicked {
    box-shadow: inset 0 0 1px rgba(0, 0, 0, 0.2);
    background: #414245;
}

.btn.mod-active {
    background: #414245;
    color: var(--text-color-secondary);
    box-shadow: 0 0 0 1px #414245;
}
/* === end button stuff === */

.forum-group-header {
    color: var(--text-color-secondary);
}

.thread {
    color: var(--text-color-tertiary);
}

.post-count {
    color: var(--text-color-tertiary) !important;
}

.plus-frag clicked i {
    color: var(--upfrag-color);
}

.minus-frag clicked i {
    color: var(--downfrag-color);
}

/* === sub button stuff === */
.sub-btn {
    background: transparent !important;
    color: var(--forum-sub-color);
    border: 1px solid var(--forum-sub-color);
}

.sub-btn.active {
    color: var(--forum-active-sub-color);
    border: 1px solid var(--forum-active-sub-color);
}
/* === end sub button stuff === */

/* ========== POSTS ========== */
.thread-header-title {
    color: var(--text-color-secondary);
}

.thread-header-desc {
    color: var(--text-color-secondary);
}

#thread-container {
    border: 1px solid #34363D;
    border-radius: 0px;
    border-bottom: 0;
}

#thread-frag-count {
    background: #7ab87e;
    background: #414245;
}

.thread-frag-button[clicked],
.thread-frag-button[clicked]:hover {
    background: #76bc87;
}

.post {
    border-bottom: 1px solid #414245;
    border-radius: 0;
}

.post-header {
    background: var(--post-header-bg);
    color: #666;
}

.post-num {
    color: var(--text-color);
}

.group-plus {
    color: var(--group-plus-text-color) !important;
}

/* the second selector overrides posts with inline styles and overrides them. used to change the color on profiles. */
.post-body,
.post-body[style] {
    color: var(--text-color) !important;
}

.post-body q {
    border: 1px dashed #888;
    background: var(--quote-bg);
    color: var(--text-color);
}

.post-body .quote-attr {
    color: rgb(102, 156, 255);
}

.post-body code {
    border: 1px dotted #888;
    background: var(--code-bg);
    color: var(--text-color);
}

/* ========== PROFILES ========== */
.profile-table {
    color: var(--text-color);
}

.profile-table td:first-child {
    color: var(--text-color-secondary);
}

/* ========== PRIVACY POLICY ========== */
#privacy {
    color: var(--text-color)
}

#privacy h1 {
    color: var(--header-text-color);
}
